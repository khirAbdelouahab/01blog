<div class="reports-container">
    <div class="header">
        <h1>All Reports ({{reportsList().length}})</h1>
        <input type="text" class="search-box" placeholder="Search users...">
    </div>

    <table>
        <thead>
            <tr>
                <th>Name</th>
                <th>Content</th>
                <th>Reason</th>
                <th>Date</th>
                <th>Actions</th>
            </tr>
        </thead>
        <tbody>
            @for (report of reportsList(); track report.report.id) {
            <tr>
                <td data-label="Name">{{ report.report.author.fullname }}</td>
                <td data-label="Content">{{ report.report.content }}</td>
                <td data-label="Reason">
                    <span class="status-badge status-report">{{ report.report.reason }}</span>
                </td>
                <td data-label="Date">{{ report.report.created_at }}</td>
                <td class="actions-cell">
                    <button class="menu-btn" (click)="toggleDropdown(report.report.id)">â‹®</button>
                    <div [class]="!report.showMenu ? 'dropdown-menu' : 'dropdown-menu show'">
                        <button class="dropdown-item">See More</button>
                        <button class="dropdown-item" (click)="onViewPost(report.report.post.id)">View Post</button>
                        <button class="dropdown-item" (click)="banUser(report.report.post.author)">Ban User</button>
                        <button class="dropdown-item" (click)="hidePost(report.report.post.id)">Hide Post</button>
                        <button class="dropdown-item" (click)="onDeletePost(report.report.post.id)">Delete Post</button>
                    </div>
                </td>
            </tr>
            }
        </tbody>
    </table>
</div>